### 指令集

##### R型指令

* ![image-20210416205729528](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416205729528.png)
* ![image-20210416110812698](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416110812698.png)

##### I型指令：包括ld

* ![image-20210416110941947](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416110941947.png)
* ![image-20210416111111967](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416111111967.png)
* LOAD指令![image-20210416111302681](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416111302681.png)

##### S型装载指令

* ![image-20210416111450706](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416111450706.png)

  ![image-20210416111733315](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416111733315.png)

  ![image-20210416111803827](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416111803827.png)

##### B型跳转指令

* ![image-20210416112200151](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416112200151.png)
* ![image-20210416112304522](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416112304522.png)
* ![image-20210416112420675](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416112420675.png)
* ![image-20210416112518181](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416112518181.png)
* ![image-20210416112621185](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416112621185.png)

##### U型指令

* ![image-20210416112711203](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416112711203.png)

* LUI+addi指令 可以把寄存器32位全部更新

  ![image-20210416112838929](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416112838929.png)
  * LUI+addi的问题![image-20210416113019733](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416113019733.png)

    解决方法

    * LUI指令预先+1来抵消![image-20210416113305591](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416113305591.png)

* AUIPC指令

  ![image-20210416113408388](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416113408388.png)

##### J型指令

* ![image-20210416113534016](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416113534016.png)

* 例子：注意到x0恒为0，所以第一条j Label相当于不存当前PC+4的值

  ![image-20210416113708599](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416113708599.png)

* 注意：JALR是一种I型指令

  ![image-20210416113847707](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416113847707.png)

  应用

  ![image-20210416114054815](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416114054815.png)

### 数据通路

* ![image-20210416120503965](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210416120503965.png)





* 写回阶段认为同一周期先写后读![image-20210417211203600](D:\科大\大三下\计算机体系结构\lab\lab1\image\image-20210417211203600.png)